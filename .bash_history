. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 bot_demo.py
pkill -f bot_demo.py
ls
python3 bot.py 
python3 migrate_db.py
python3 bot.py
pkill -f python
python3 fix_referral_codes.py
ps aux | grep python
python3 bot.py
pkill -f bot
python3 bot.py
pkill -f bot
python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 migrate_db.py && python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 fix_referral_codes.py && python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
sleep 3 && python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 bot.py
pkill -f python
python3 bot.py
pkill -9 -f python
python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
sleep 5 && python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
sleep 3 && python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
sleep 3 && python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
sleep 2 && python3 admin_web.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
sleep 2 && python3 admin_web.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 admin_web.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 migrate_admins.py
pip3 install flask==3.0.0 flask-login==0.6.3 werkzeug==3.0.1
sleep 3 && curl -I http://localhost:8080
ps aux | grep admin_web
python3 cleanup_subscriptions.py
python3 migrate_plan_name.py
python3 cleanup_subscriptions.py
python3 check_xui.py
python3 check_subscriptions.py
ps aux | grep admin_web
curl -s http://localhost:8080/login | head -20
pkill -f admin_web.py
sleep 3 && curl -I http://localhost:8080
python3 check_admin.py
python3 test_web.py
ps aux | grep admin_web
pkill -f admin_web.py
sleep 3 && python3 test_web.py
python3 test_auth.py
python3 final_test.py
lsof -ti:8080 | xargs kill -9
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 admin_web.py &
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 admin_web.py &
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
pkill -f "python3 bot.py" && sleep 2 && python3 bot.py &
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
pkill -f "python3 bot.py" && sleep 2 && python3 bot.py &
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
pkill -f "python3 bot.py" && sleep 2 && python3 bot.py &
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
pkill -f "python3 bot.py" && sleep 2 && python3 bot.py &
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
cd /root && python3 -c "import bot; print('Бот импортируется успешно')"
ps aux | grep python | grep bot
tail -20 /var/log/syslog | grep -i bot
ls -la *.log 2>/dev/null || echo "Логи не найдены"
ls -la .env* 2>/dev/null || echo "Файлы .env не найдены"
cat .env | grep -v PASSWORD | grep -v TOKEN
python3 -c "from database import SessionLocal; db = SessionLocal(); print('База данных подключена успешно'); db.close()"
python3 test_xui_api.py
sleep 3 && ps aux | grep "python3 bot.py" | grep -v grep
python3 test_add_client.py
python3 check_subscriptions.py
python3 -c "
from database import SessionLocal, User, Subscription
from datetime import datetime

db = SessionLocal()
try:
    # Находим все подписки пользователя 261337953
    user = db.query(User).filter(User.telegram_id == 261337953).first()
    if user:
        print(f'Пользователь: {user.full_name} ({user.email})')
        subscriptions = db.query(Subscription).filter(Subscription.user_id == user.id).all()
        print(f'Всего подписок: {len(subscriptions)}')
        
        for sub in subscriptions:
            print(f'ID: {sub.id}, Статус: {sub.status}, Истекает: {sub.expires_at}, Тариф: {sub.plan}')
    else:
        print('Пользователь не найден')
finally:
    db.close()
"
python3 -c "
import asyncio
from xui_client import XUIClient

async def check_user_in_xui():
    client = XUIClient()
    await client.login()
    inbounds = await client.get_inbounds()
    
    if inbounds and inbounds.get('obj'):
        for inbound in inbounds['obj']:
            if 'clientStats' in inbound:
                for client_stat in inbound['clientStats']:
                    if client_stat.get('email') == 'Fenix_220291@mail.ru':
                        print(f'Найден клиент в 3xUI:')
                        print(f'  ID: {client_stat.get(\"id\")}')
                        print(f'  Email: {client_stat.get(\"email\")}')
                        print(f'  Включен: {client_stat.get(\"enable\")}')
                        print(f'  Истекает: {client_stat.get(\"expiryTime\")}')
                        print(f'  TG ID: {client_stat.get(\"tgId\")}')
                        print(f'  Sub ID: {client_stat.get(\"subId\")}')
                        return client_stat.get('id')
    return None

result = asyncio.run(check_user_in_xui())
print(f'\\nАктивный ID в 3xUI: {result}')
"
python3 -c "
import asyncio
import json
from xui_client import XUIClient

async def check_all_clients():
    client = XUIClient()
    await client.login()
    inbounds = await client.get_inbounds()
    
    if inbounds and inbounds.get('obj'):
        for inbound in inbounds['obj']:
            print(f'Inbound ID: {inbound.get(\"id\")}')
            if 'clientStats' in inbound:
                for client_stat in inbound['clientStats']:
                    print(f'  Клиент: {client_stat.get(\"email\")} (ID: {client_stat.get(\"id\")})')
                    if client_stat.get(\"email\") == 'Fenix_220291@mail.ru':
                        print(f'    *** НАЙДЕН ПОЛЬЗОВАТЕЛЬ ***')
                        print(f'    ID: {client_stat.get(\"id\")}')
                        print(f'    Включен: {client_stat.get(\"enable\")}')
                        print(f'    Истекает: {client_stat.get(\"expiryTime\")}')
                        print(f'    TG ID: {client_stat.get(\"tgId\")}')
                        print(f'    Sub ID: {client_stat.get(\"subId\")}')

asyncio.run(check_all_clients())
"
python3 -c "
import asyncio
import json
from xui_client import XUIClient

async def find_client_by_id():
    client = XUIClient()
    await client.login()
    inbounds = await client.get_inbounds()
    
    target_id = 'ed43a3bc-a1f7-42c3-9521-cb636b37999e'
    
    if inbounds and inbounds.get('obj'):
        for inbound in inbounds['obj']:
            if 'clientStats' in inbound:
                for client_stat in inbound['clientStats']:
                    if client_stat.get('id') == target_id:
                        print(f'Найден клиент с ID {target_id}:')
                        print(f'  Email: {client_stat.get(\"email\")}')
                        print(f'  Включен: {client_stat.get(\"enable\")}')
                        print(f'  Истекает: {client_stat.get(\"expiryTime\")}')
                        print(f'  TG ID: {client_stat.get(\"tgId\")}')
                        print(f'  Sub ID: {client_stat.get(\"subId\")}')
                        return True
    print(f'Клиент с ID {target_id} не найден')
    return False

asyncio.run(find_client_by_id())
"
python3 cleanup_database.py
python3 check_subscriptions.py
sleep 3 && ps aux | grep "python3 bot.py" | grep -v grep
python3 test_xui_api.py
python3 -c "
import asyncio
import json
from xui_client import XUIClient

async def check_specific_client():
    client = XUIClient()
    await client.login()
    inbounds = await client.get_inbounds()
    
    target_email = 'Fenix_220291@mail.ru'
    target_id = 'ed43a3bc-a1f7-42c3-9521-cb636b37999e'
    
    if inbounds and inbounds.get('obj'):
        for inbound in inbounds['obj']:
            if 'clientStats' in inbound:
                for client_stat in inbound['clientStats']:
                    if client_stat.get('email') == target_email or client_stat.get('id') == target_id:
                        print(f'✅ НАЙДЕН КЛИЕНТ!')
                        print(f'  Email: {client_stat.get(\"email\")}')
                        print(f'  ID: {client_stat.get(\"id\")}')
                        print(f'  Включен: {client_stat.get(\"enable\")}')
                        print(f'  Истекает: {client_stat.get(\"expiryTime\")}')
                        print(f'  TG ID: {client_stat.get(\"tgId\")}')
                        print(f'  Sub ID: {client_stat.get(\"subId\")}')
                        return True
    
    print(f'❌ Клиент не найден')
    return False

asyncio.run(check_specific_client())
"
python3 -c "
import asyncio
import json
from xui_client import XUIClient

async def list_all_clients():
    client = XUIClient()
    await client.login()
    inbounds = await client.get_inbounds()
    
    print('Все клиенты в 3xUI:')
    if inbounds and inbounds.get('obj'):
        for inbound in inbounds['obj']:
            print(f'Inbound ID: {inbound.get(\"id\")}')
            if 'clientStats' in inbound:
                for client_stat in inbound['clientStats']:
                    print(f'  - {client_stat.get(\"email\")} (ID: {client_stat.get(\"id\")})')
                    if 'Fenix' in client_stat.get('email', ''):
                        print(f'    *** ЭТО ВАШ КЛИЕНТ! ***')
                        print(f'    Включен: {client_stat.get(\"enable\")}')
                        print(f'    Истекает: {client_stat.get(\"expiryTime\")}')

asyncio.run(list_all_clients())
"
python3 -c "
import asyncio
import json
from xui_client import XUIClient

async def check_inbound_settings():
    client = XUIClient()
    await client.login()
    inbounds = await client.get_inbounds()
    
    if inbounds and inbounds.get('obj'):
        for inbound in inbounds['obj']:
            print(f'Inbound ID: {inbound.get(\"id\")}')
            print(f'Remark: {inbound.get(\"remark\")}')
            print(f'Enable: {inbound.get(\"enable\")}')
            
            # Проверяем settings
            settings_str = inbound.get('settings', '{}')
            try:
                settings = json.loads(settings_str)
                clients = settings.get('clients', [])
                print(f'Клиентов в settings: {len(clients)}')
                
                for client_config in clients:
                    email = client_config.get('email', '')
                    client_id = client_config.get('id', '')
                    enable = client_config.get('enable', False)
                    print(f'  - {email} (ID: {client_id}) - Включен: {enable}')
                    
                    if 'Fenix' in email:
                        print(f'    *** ВАШ КЛИЕНТ В SETTINGS! ***')
                        print(f'    Полная конфигурация: {json.dumps(client_config, indent=2)}')
                        
            except json.JSONDecodeError as e:
                print(f'Ошибка парсинга settings: {e}')

asyncio.run(check_inbound_settings())
"
python3 fix_subscriptions.py
python3 -c "
import asyncio
import json
from xui_client import XUIClient

async def debug_settings():
    client = XUIClient()
    await client.login()
    inbounds = await client.get_inbounds()
    
    if inbounds and inbounds.get('obj'):
        for inbound in inbounds['obj']:
            print(f'Inbound ID: {inbound.get(\"id\")}')
            settings_str = inbound.get('settings', '{}')
            print(f'Settings string length: {len(settings_str)}')
            print(f'First 200 chars: {settings_str[:200]}')
            
            try:
                settings = json.loads(settings_str)
                clients = settings.get('clients', [])
                print(f'Parsed clients count: {len(clients)}')
                
                for i, client_config in enumerate(clients):
                    email = client_config.get('email', '')
                    enable = client_config.get('enable', False)
                    print(f'  {i+1}. {email} - enable: {enable}')
                    
            except json.JSONDecodeError as e:
                print(f'JSON decode error: {e}')

asyncio.run(debug_settings())
"
python3 -c "
import asyncio
import json
from xui_client import XUIClient

async def debug_api():
    client = XUIClient()
    print('Logging in...')
    success = await client.login()
    print(f'Login success: {success}')
    
    print('Getting inbounds...')
    inbounds = await client.get_inbounds()
    print(f'Inbounds response: {type(inbounds)}')
    
    if inbounds:
        print(f'Success: {inbounds.get(\"success\")}')
        print(f'Has obj: {\"obj\" in inbounds}')
        if 'obj' in inbounds:
            print(f'Obj length: {len(inbounds[\"obj\"])}')
            for i, inbound in enumerate(inbounds['obj']):
                print(f'Inbound {i}: id={inbound.get(\"id\")}, enable={inbound.get(\"enable\")}')

asyncio.run(debug_api())
"
python3 test_xui_api.py
python3 sync_subscriptions.py
sleep 3 && ps aux | grep "python3 bot.py" | grep -v grep
python3 check_subscriptions.py
pip3 install flask flask-login
sleep 3 && ps aux | grep python | grep -E "(bot.py|admin_web.py)" | grep -v grep
curl -s http://localhost:8080 | head -20
apt update && apt install -y nginx certbot python3-certbot-nginx
pkill -f "admin_web.py"
ln -s /etc/nginx/sites-available/seavpn-admin /etc/nginx/sites-enabled/ && rm -f /etc/nginx/sites-enabled/default
nginx -t
systemctl restart nginx && systemctl status nginx
certbot --nginx -d admin.universaltools.pro --non-interactive --agree-tos --email admin@universaltools.pro
systemctl status nginx
ps aux | grep "admin_web.py" | grep -v grep
pkill -f "admin_web.py" && sleep 2
systemctl daemon-reload && systemctl enable seavpn-admin && systemctl start seavpn-admin
systemctl status seavpn-admin
journalctl -u seavpn-admin -n 10
systemctl restart seavpn-admin && systemctl status seavpn-admin
curl -s https://admin.universaltools.pro | head -10
systemctl status nginx seavpn-admin --no-pager
journalctl -u seavpn-admin -n 5 --no-pager
netstat -tlnp | grep :8080
ss -tlnp | grep :8080
kill -9 118667 118669
systemctl restart seavpn-admin && sleep 3 && systemctl status seavpn-admin
curl -s -I https://admin.universaltools.pro
systemctl restart seavpn-admin && sleep 3 && systemctl status seavpn-admin
curl -s https://admin.universaltools.pro/login | head -5
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
pkill -9 -f python && sleep 3 && python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
pkill -9 -f python && sleep 5 && python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
sleep 3 && python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
sleep 3 && python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
sleep 3 && python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
sleep 3 && python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
pkill -9 -f python && sleep 3 && python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
sleep 3 && python3 bot.py
pkill -f bot
python3 bot.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
pip install -r requirements.txt
apt update && apt install -y python3-pip
pip3 install -r requirements.txt
apt install -y postgresql postgresql-contrib
systemctl start postgresql && systemctl enable postgresql
sudo -u postgres psql -c "CREATE DATABASE vpn_bot;"
sudo -u postgres psql -c "CREATE USER vpn_user WITH PASSWORD 'vpn_password';"
sudo -u postgres psql -c "GRANT ALL PRIVILEGES ON DATABASE vpn_bot TO vpn_user;"
cp env_example.txt .env
sed -i 's/postgresql:\/\/username:password@localhost\/vpn_bot/postgresql:\/\/vpn_user:vpn_password@localhost\/vpn_bot/' .env
ps aux | grep bot
sudo -u postgres psql -d vpn_bot -c "SELECT COUNT(*) FROM users;"
ps aux | grep bot
pkill -f bot
pkill -f python
python3 bot.py
cp env_example.txt .env
cat .env
sed -i 's/postgresql:\/\/username:password@localhost\/vpn_bot/postgresql:\/\/vpn_user:vpn_password@localhost\/vpn_bot/' .env
cat .env
sed -i 's|XUI_BASE_URL=https://nl.universaltools.pro|XUI_BASE_URL=https://nl.universaltools.pro/panel|' .env
cat .env
pkill -f python
ps aux | grep bot
python3 bot.py
pkill -f python
cat .env
pkill -f python
python3 bot.py
ps aux | grep bot
python3 bot.py
pkill -f python
python3 bot.py
python3 test_xui_api.py
pkill -f python
ps aux | grep bot
python3 bot.py
python3 test_xui_api.py
python3 test_create_user.py
ps aux | grep bot
pkill -f python
ps aux | grep bot
python3 test_add_client.py
pkill -f python
ps aux | grep bot
pkill -f python
ps aux | grep bot
pkill -f python
ps aux | grep bot
python3 bot.py
pkill -9 -f python
ps aux | grep bot
python3 -c "import bot; print('Код корректен')"
python3 bot.py
pkill -9 -f python
ps aux | grep bot
python3 -c "import bot; print('Код корректен')"
python3 bot.py
pkill -9 -f python
ps aux | grep bot
python3 -c "import bot; print('Код корректен')"
python3 bot.py
python3 migrate_email_unique.py
pkill -9 -f python
python3 migrate_email_unique.py
ps aux | grep bot
python3 -c "import bot; print('Код корректен')"
python3 bot.py
ps aux | grep bot
python3 migrate_telegram_id_bigint.py
pkill -9 -f python
ps aux | grep bot
python3 migrate_first_purchase.py
pkill -9 -f python
ps aux | grep bot
pkill -9 -f python
ps aux | grep bot
tail -f /dev/null & sleep 2 && pkill -f "tail -f"
pkill -9 -f python
ps aux | grep bot
python3 bot.py
sleep 5 && ps aux | grep bot
python3 -c "import bot; print('Код корректен')"
python3 bot.py
python3 sync_subscriptions.py
sleep 5 && ps aux | grep bot
sleep 10 && echo "Проверяем логи бота..."
python3 check_subscriptions.py
python3 check_xui.py
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 add_key_numbers.py
pkill -f "python3 bot.py" && sleep 2
XUI_BASE_URL="nl.universaltools.pro" XUI_PORT="34235" XUI_WEBBASEPATH="CVbzPVZjXGDiTsw" XUI_USERNAME="XBYiLVDMb5" XUI_PASSWORD="zclNU7rzrF" DATABASE_URL="postgresql://vpn_user:vpn_password@localhost/vpn_bot" python3 bot.py &
psql -U vpn_user -d vpn_bot -c "SELECT id, user_id, plan, status, expires_at, key_number FROM subscriptions WHERE id = 11;"
sudo -u postgres psql -d vpn_bot -c "SELECT id, user_id, plan, status, expires_at, key_number FROM subscriptions WHERE id = 11;"
pkill -9 -f python
python3 bot.py
pkill -f "python3 bot.py" && sleep 2 && python3 bot.py &
python3 create_superadmin.py
systemctl status seavpn-admin
systemctl restart seavpn-admin && sleep 3 && systemctl status seavpn-admin
curl -s -I https://admin.universaltools.pro
systemctl restart seavpn-admin && sleep 3 && systemctl status seavpn-admin
curl -s -I https://admin.universaltools.pro
systemctl restart seavpn-admin && sleep 2 && pkill -f "python3 bot.py" && sleep 2 && python3 bot.py &
systemctl status seavpn-admin && echo "---" && ps aux | grep "python3 bot.py"
python3 bot.py &
curl -s -I https://admin.universaltools.pro
python3 bot.py &
ps aux | grep "python3 bot.py"
python3 bot.py
python3 bot.py &
ps aux | grep "python3 bot.py"
curl -s -I https://admin.universaltools.pro
ps aux | grep "python3 bot.py"
pkill -f "python3 bot.py" && sleep 2 && python3 bot.py &
ps aux | grep "python3 bot.py"
curl -s -k -u "admin:admin" "http://nl.universaltools.pro:54321/panel/api/inbounds/list" | head -20
curl -s -I "http://nl.universaltools.pro:54321"
ps aux | grep -i xui
ls -la /usr/local/x-ui/
find / -name "*x-ui*" -type d 2>/dev/null | head -10
systemctl status x-ui
docker ps -a | grep -i xui
netstat -tlnp | grep 54321
ss -tlnp | grep 54321
env | grep -i xui
export XUI_BASE_URL="http://nl.universaltools.pro" && export XUI_PORT="54321" && export XUI_WEBBASEPATH="/panel" && export XUI_USERNAME="admin" && export XUI_PASSWORD="admin" && export DATABASE_URL="postgresql://postgres:postgres@localhost/vpn_bot"
cat .env
curl -s -I "http://nl.universaltools.pro:34235"
curl -s -I "http://nl.universaltools.pro:34235/CVbzPVZjXGDiTsw"
curl -s -k -u "XBYiLVDMb5:zclNU7rzrF" "http://nl.universaltools.pro:34235/CVbzPVZjXGDiTsw/panel/api/inbounds/list"
curl -s -k -u "XBYiLVDMb5:zclNU7rzrF" "http://nl.universaltools.pro:34235/CVbzPVZjXGDiTsw/panel/api/inbounds/list" -L
pkill -f "python3 bot.py" && sleep 2
XUI_BASE_URL="nl.universaltools.pro" XUI_PORT="34235" XUI_WEBBASEPATH="CVbzPVZjXGDiTsw" XUI_USERNAME="XBYiLVDMb5" XUI_PASSWORD="zclNU7rzrF" DATABASE_URL="postgresql://vpn_user:vpn_password@localhost/vpn_bot" python3 bot.py &
ps aux | grep "python3 bot.py"
curl -s -k -u "XBYiLVDMb5:zclNU7rzrF" "http://nl.universaltools.pro:34235/CVbzPVZjXGDiTsw/panel/api/inbounds/list" | jq '.success'
curl -s -k -u "XBYiLVDMb5:zclNU7rzrF" "http://nl.universaltools.pro:34235/CVbzPVZjXGDiTsw/panel/api/inbounds/list"
curl -s -k -u "XBYiLVDMb5:zclNU7rzrF" "http://nl.universaltools.pro:34235/CVbzPVZjXGDiTsw/panel/api/inbounds/list" -L
python3 test_xui.py
pkill -f "python3 bot.py" && sleep 2
XUI_BASE_URL="nl.universaltools.pro" XUI_PORT="34235" XUI_WEBBASEPATH="CVbzPVZjXGDiTsw" XUI_USERNAME="XBYiLVDMb5" XUI_PASSWORD="zclNU7rzrF" DATABASE_URL="postgresql://vpn_user:vpn_password@localhost/vpn_bot" python3 bot.py &
ps aux | grep "python3 bot.py"
rm test_xui.py
pkill -f "python3 bot.py" && sleep 2
XUI_BASE_URL="nl.universaltools.pro" XUI_PORT="34235" XUI_WEBBASEPATH="CVbzPVZjXGDiTsw" XUI_USERNAME="XBYiLVDMb5" XUI_PASSWORD="zclNU7rzrF" DATABASE_URL="postgresql://vpn_user:vpn_password@localhost/vpn_bot" python3 bot.py &
pkill -f "python3 bot.py" && sleep 2
XUI_BASE_URL="nl.universaltools.pro" XUI_PORT="34235" XUI_WEBBASEPATH="CVbzPVZjXGDiTsw" XUI_USERNAME="XBYiLVDMb5" XUI_PASSWORD="zclNU7rzrF" DATABASE_URL="postgresql://vpn_user:vpn_password@localhost/vpn_bot" python3 bot.py &
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 create_superadmin.py
python3 update_admin.py
systemctl restart seavpn-admin
systemctl daemon-reload && systemctl restart seavpn-admin
systemctl status seavpn-admin
systemctl restart seavpn-admin
systemctl status seavpn-admin
pkill -f "python3 bot.py" && sleep 2
XUI_BASE_URL="nl.universaltools.pro" XUI_PORT="34235" XUI_WEBBASEPATH="CVbzPVZjXGDiTsw" XUI_USERNAME="XBYiLVDMb5" XUI_PASSWORD="zclNU7rzrF" DATABASE_URL="postgresql://vpn_user:vpn_password@localhost/vpn_bot" python3 bot.py &
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 test_bonuses.py
cat .env
python3 test_bonuses.py
psql -U vpn_user -d vpn_bot -c "\d users"
sudo -u postgres psql -d vpn_bot -c "\d users"
python3 bot.py
python3 -c "from database import SessionLocal, User; db = SessionLocal(); user = db.query(User).filter(User.telegram_id == 7107555507).first(); print(f'ID: {user.id}, Email: {user.email}, Name: {user.full_name}') if user else print('User not found'); db.close()"
find /root -name "*.json" -o -name "*.cache" -o -name "*.session" 2>/dev/null
grep -r "jncffnv@mail.ru" /root --exclude-dir=.cursor-server 2>/dev/null
pkill -f "python3 bot.py" && sleep 2 && python3 bot.py &
find /root -name "*.py" -exec grep -l "jncffnv" {} \; 2>/dev/null
python3 debug_email.py
python3 check_inbounds.py
python3 debug_email.py
pkill -f "python3 bot.py" && sleep 2 && python3 bot.py &
. "/root/.cursor-server/cli/servers/Stable-e50823e9ded15fddfd743c7122b4724130c25df0/server/out/vs/workbench/contrib/terminal/common/scripts/shellIntegration-bash.sh"
python3 bot.py
ps aux | grep "python3 bot.py"
python3 test_bonuses.py
pkill -f "python3 bot.py" && sleep 2 && python3 bot.py
python3 bot.py
ps aux | grep "python3 bot.py"
python3 bot.py
pkill -f "python3 bot.py"
sleep 3 && python3 bot.py &
ps aux | grep "python3 bot.py"
jobs
sleep 5 && ps aux | grep "python3 bot.py"
python3 test_bonuses.py
pkill -f "python3 bot.py" && sleep 3
sleep 3 && ps aux | grep "python3 bot.py"
tail -f /dev/null & sleep 2 && pkill -f "tail -f" && echo "Бот работает стабильно"
python3 test_bonuses.py
pkill -f "python3 bot.py"
sleep 3 && ps aux | grep "python3 bot.py"
python3 test_bonuses.py
pkill -f "python3 bot.py" && sleep 2 && python3 bot.py &
sleep 3 && ps aux | grep "python3 bot.py"
pkill -f "python3 bot.py" && sleep 2 && python3 bot.py &
sleep 3 && ps aux | grep "python3 bot.py"
pkill -f "python3 bot.py" && sleep 2 && python3 bot.py &
sleep 3 && ps aux | grep "python3 bot.py"
python3 test_bonuses.py
